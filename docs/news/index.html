<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • fastshap</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fastshap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.7.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/bgreenwell/fastshap/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/bgreenwell/fastshap/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.8" id="fastshap-008">fastshap 0.0.8<a class="anchor" aria-label="anchor" href="#fastshap-008"></a></h2>
<div class="section level3">
<h3 id="breaking-changes-0-0-8">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-0-8"></a></h3>
<ul><li><p>Since Shapley values are ALWAYS numeric the <code><a href="../reference/explain.html">explain()</a></code> function now returns a matrix, as opposed to a <a href="https://cran.r-project.org/package=tibble" class="external-link">tibble</a>; data frames (and <a href="https://cran.r-project.org/package=tibble" class="external-link">tibbles</a>’s) are really only necessary when the data are heterogeneous. In essence, the output from <code><a href="../reference/explain.html">explain()</a></code> will act like an R matrix but with class structure <code>c("explain", "matrix", "array")</code>.</p></li>
<li><p>The output from <code><a href="../reference/explain.html">explain()</a></code> now contains a <code>"baseline"</code> attribute, which, unless supplied by the user, contains the average training response. When <code>adjust = TRUE</code>, then the sum of a row of Shapley values is equal to the difference between the corresponding prediction, <span class="math inline"><em>f̂</em>(<strong>x</strong>)</span>, and the baseline.</p></li>
<li><p>Two new data sets, <code>titanic</code> and <code>titanic_mice</code>, were added to the package; see the corresponding help pages for details.</p></li>
<li><p>The plotting functions have all been deprecated in favor of the (far superior) <a href="https://cran.r-project.org/package=shapviz" class="external-link">shapviz</a> package by <a href="https://github.com/Mayer79" class="external-link">@Mayer79</a> (<code>grid.arrange()</code> is also no longer imported from <a href="https://cran.r-project.org/package=gridExtra" class="external-link">gridExtra</a>). Consequently, the output from <code><a href="../reference/explain.html">explain()</a></code> no longer needs to have its own <code>"explain"</code> class (only an ordinary <code>c("matrix", "array")</code> object is returned).</p></li>
</ul></div>
<div class="section level3">
<h3 id="miscellaneous-0-0-8">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-0-8"></a></h3>
<ul><li><p>Minor change to <code><a href="../reference/explain.html">explain.lgb.Booster()</a></code> to support breaking changes in <a href="https://cran.r-project.org/package=lightgbm" class="external-link">lightgbm</a> v4.0.0. (Thanks to <a href="https://github.com/jameslamb" class="external-link">@jameslamb</a> and <a href="https://github.com/Mayer79" class="external-link">@Mayer79</a>.)</p></li>
<li><p>The dependency on <a href="https://cran.r-project.org/package=matrixStats" class="external-link">matrixStats</a> has been removed in favor of using R’s internal <code><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply()</a></code> and <code><a href="https://rdrr.io/r/stats/cor.html" class="external-link">var()</a></code> functions.</p></li>
<li><p>The dependency on <a href="https://cran.r-project.org/package=plyr" class="external-link">plyr</a>, which has been retired, has been removed in favor of using <a href="https://cran.r-project.org/package=foreach" class="external-link">foreach</a> directly.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.7" id="fastshap-007">fastshap 0.0.7<a class="anchor" aria-label="anchor" href="#fastshap-007"></a></h2><p class="text-muted">CRAN release: 2021-12-06</p>
<div class="section level3">
<h3 id="miscellaneous-0-0-7">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-0-7"></a></h3>
<ul><li>Move <a href="https://cran.r-project.org/package=lightgbm" class="external-link">lightgbm</a> tests to <code>slowtests/</code> directory (for now).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.6" id="fastshap-006">fastshap 0.0.6<a class="anchor" aria-label="anchor" href="#fastshap-006"></a></h2><p class="text-muted">CRAN release: 2021-12-03</p>
<div class="section level3">
<h3 id="enhancements-0-0-6">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-0-6"></a></h3>
<ul><li>Thanks to Michael Mayer (<a href="https://github.com/mayer79" class="external-link">@mayer79</a>), function <code><a href="../reference/explain.html">explain()</a></code> now supports <a href="https://cran.r-project.org/package=lightgbm" class="external-link">lightgbm</a> models <a href="https://github.com/bgreenwell/fastshap/issues/15" class="external-link">(</a><a href="https://github.com/bgreenwell/fastshap/issues/15" class="external-link">#15</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-6">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-6"></a></h3>
<ul><li><p>The <code>force_plot()</code> function should now be compatible with <strong>shap</strong> (&gt;=0.36.0); thanks to <a href="https://github.com/hfshr" class="external-link">@hfshr</a> and <a href="https://github.com/jbwoillard" class="external-link">@jbwoillard</a> for reporting <a href="https://github.com/bgreenwell/fastshap/issues/12" class="external-link">(</a><a href="https://github.com/bgreenwell/fastshap/issues/12" class="external-link">#12</a>).</p></li>
<li><p>Fixed minor name repair issue caused by <a href="https://cran.r-project.org/package=tibble" class="external-link">tibble</a>.</p></li>
</ul></div>
<div class="section level3">
<h3 id="miscellaneous-0-0-6">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-0-6"></a></h3>
<ul><li>Switched from Travis-CI to GitHub Actions for continuous integration.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5" id="fastshap-005">fastshap 0.0.5<a class="anchor" aria-label="anchor" href="#fastshap-005"></a></h2><p class="text-muted">CRAN release: 2020-02-02</p>
<div class="section level3">
<h3 id="bug-fixes-0-0-5">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-5"></a></h3>
<ul><li>Fixed a bug that occurred with logical columns in older version of R (&lt;= 3.6.0) <a href="https://github.com/bgreenwell/fastshap/issues/9" class="external-link">(</a><a href="https://github.com/bgreenwell/fastshap/issues/9" class="external-link">#9</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.4" id="fastshap-004">fastshap 0.0.4<a class="anchor" aria-label="anchor" href="#fastshap-004"></a></h2><p class="text-muted">CRAN release: 2020-01-26</p>
<div class="section level3">
<h3 id="enhancements-0-0-4">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-0-4"></a></h3>
<ul><li>Function <code><a href="../reference/explain.html">explain()</a></code> should now be MUCH faster at explaining a single observation, especially when <code>nsim</code> is relatively large (e.g., <code>nsim &gt;= 1000</code>).</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-4">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-4"></a></h3>
<ul><li>Fixed a MAJOR bug that occurred whenever explaining data sets with non-numeric features.</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-0-4">New features<a class="anchor" aria-label="anchor" href="#new-features-0-0-4"></a></h3>
<ul><li><p>The default method of <code><a href="../reference/explain.html">explain()</a></code> gained a new logical argument called <code>adjust</code>. When <code>adjust = TRUE</code> (and <code>nsim &gt; 1</code>), the algorithm will adjust the sum of the estimated Shapley values to satisfy the <em>efficiency property</em>; that is, to equal the difference between the model’s prediction for that sample and the average prediction over all the training data. This option is experimental and we follow the same approach as in <a href="https://github.com/slundberg/shap" class="external-link">shap</a> <a href="https://github.com/bgreenwell/fastshap/issues/6" class="external-link">(</a><a href="https://github.com/bgreenwell/fastshap/issues/6" class="external-link">#6</a>).</p></li>
<li><p>New (experimental) function for constructing <a href="https://github.com/slundberg/shap" class="external-link">force plots</a> <a href="https://github.com/bgreenwell/fastshap/issues/7" class="external-link">(</a><a href="https://github.com/bgreenwell/fastshap/issues/7" class="external-link">#7</a>) to help visualize prediction explanations. The function is also a generic which means additional methods can be added.</p></li>
<li><p>Function <code><a href="../reference/explain.html">explain()</a></code> became a generic and gained a new logical argument, <code>exact</code>, for computing exact Shapley contributions for linear models (LinearSHAP, which assumes independent features) and boosted decision trees (TreeSHAP). Currently, only <code>"lm"</code>, <code>"glm"</code>, and <code>"xgb.Booster"</code> objects are supported <a href="https://github.com/bgreenwell/fastshap/issues/2" class="external-link">(</a><a href="https://github.com/bgreenwell/fastshap/issues/2" class="external-link">#2</a>)<a href="https://github.com/bgreenwell/fastshap/issues/3" class="external-link">(</a><a href="https://github.com/bgreenwell/fastshap/issues/3" class="external-link">#3</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-0-0-4">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-0-0-4"></a></h3>
<ul><li><p>Minor improvements to package documentation.</p></li>
<li><p>Removed unnecessary legend from contribution plots.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.3" id="fastshap-003">fastshap 0.0.3<a class="anchor" aria-label="anchor" href="#fastshap-003"></a></h2><p class="text-muted">CRAN release: 2019-12-03</p>
<div class="section level3">
<h3 id="minor-changes-0-0-3">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-0-0-3"></a></h3>
<ul><li><p>Tweak imports (in particular, use <code>@importFrom Rcpp sourceCpp</code> tag).</p></li>
<li><p>Fixed a typo in the package description; Shapley was misspelled as Shapely (fixed by Dirk Eddelbuettel in <a href="https://github.com/bgreenwell/fastshap/pull/1" class="external-link">(</a><a href="https://github.com/bgreenwell/fastshap/issues/1" class="external-link">#1</a>)).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.2" id="fastshap-002">fastshap 0.0.2<a class="anchor" aria-label="anchor" href="#fastshap-002"></a></h2><p class="text-muted">CRAN release: 2019-11-22</p>
<div class="section level3">
<h3 id="new-features-0-0-2">New features<a class="anchor" aria-label="anchor" href="#new-features-0-0-2"></a></h3>
<ul><li><p>You can now specify <code>type = "contribution"</code> in the call to <code>autoplot.fastshap()</code> to plot the explanation for a single instance (controlled by the <code>row_num</code> argument).</p></li>
<li>
<p><code>autoplot.fastshap()</code> gained some useful new arguments:</p>
<ul><li><p><code>color_by</code> for specifying an additional feature to color by for dependence plots (i.e., whenever <code>type = "dependence"</code>);</p></li>
<li><p><code>smooth</code>, <code>smooth_color</code>, <code>smooth_linetype</code>, <code>smooth_size</code>, and <code>smooth_alpha</code> for adding/controlling a smoother in dependence plots (i.e., whenever <code>type = "dependence"</code>).</p></li>
<li><p><code>...</code> which can be used to pass on additional parameters to <code>geom_col()</code> (when <code>type = "importance"</code>) or <code>geom_point()</code> (when <code>type = "dependence"</code>).</p></li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-0-0-2">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-0-2"></a></h3>
<ul><li><p>Function <code><a href="../reference/fastshap-package.html">fastshap()</a></code> was renamed to <code><a href="../reference/explain.html">explain()</a></code>.</p></li>
<li><p>Functions <code><a href="../reference/explain.html">explain()</a></code> and <code>explain_column()</code> (not currently exported) now throw an error whenever the inputs <code>X</code> and <code>newdata</code> do not inherit from the same class.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-0-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-0-2"></a></h3>
<ul><li><p>Fixed a bug in the C++ source that gave more weight to extreme permutations.</p></li>
<li><p>Fixed a bug in the C++ source that caused doubles to be incorrectly converted to integers.</p></li>
<li><p>Fixed a bug in <code>autoplot.fastshap()</code> when <code>type = "importance"</code>; in particular, the function incorrectly used <code>sum(|Shapley value|)</code> instead of <code>mean(|Shapley value|)</code>.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.1" id="fastshap-001">fastshap 0.0.1<a class="anchor" aria-label="anchor" href="#fastshap-001"></a></h2>
<ul><li>Initial release.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Brandon Greenwell.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

